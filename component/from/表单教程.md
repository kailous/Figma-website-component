# 表单接入 + 表单提交器 联动教程

本教程演示如何让“表单接入”负责输入框渲染，“表单提交器”负责统一提交，并保证两者正常联动。

## 一、准备画布结构

建议先在画布中搭好结构（示例）：

```
LoginFormArea (Frame, aria-label="LoginFormArea")
  |-- UsernameInput (Frame, aria-label="UsernameInput")
  |-- PasswordInput (Frame, aria-label="PasswordInput")
SubmitBtn (Button/Frame, aria-label="SubmitBtn")
```

说明：
- `LoginFormArea` 是“表单容器”，提交器会在这个容器里收集所有 `input`。
- `UsernameInput` / `PasswordInput` 是输入位容器，稍后会被“表单接入”替换为真正的 `input`。
- `SubmitBtn` 是提交按钮，提交器会绑定点击事件。

## 二、给每个输入位添加“表单接入”

对每个输入位容器都放置一个“表单接入”组件实例，并设置参数：

1) 选中 `UsernameInput` 容器
- `targetAriaLabel`: `UsernameInput`
- `formName`: `username` (重要，提交器靠它收集字段)
- `inputType`: `text`
- `placeholderText`: `请输入用户名`
- `isRequired`: `true`

2) 选中 `PasswordInput` 容器
- `targetAriaLabel`: `PasswordInput`
- `formName`: `password`
- `inputType`: `password`
- `placeholderText`: `请输入密码`
- `isRequired`: `true`

提示：
- 组件会读取容器内的文本样式作为输入框样式，建议在容器里保留一个文本节点作为样式参考。
- 每个输入位都要有唯一的 `formName`，否则提交数据会互相覆盖。

## 三、添加“表单提交器”

在任意位置放置一个“表单提交器”组件实例，配置如下：

- `buttonLabel`: `SubmitBtn`
- `formContainerLabel`: `LoginFormArea`
- `submitMode`: `mock`（先用模拟模式测试）
- `successMessage`: `提交成功！`
- `errorMessage`: `提交失败，请重试。`

如果要真实请求：
- `submitMode`: `real`
- `apiUrl`: 填入你的接口地址
- `httpMethod`: 选择 `POST/GET/PUT`
- `authToken`: 如需鉴权可填入 Bearer Token

说明：
- 默认 `Content-Type` 为 `application/json`。如需 `application/x-www-form-urlencoded`，请在代码中调整提交器参数。

## 四、测试流程

1. 打开预览页面。
2. 输入用户名与密码。
3. 点击提交按钮。
4. 若是 `mock` 模式，可在控制台看到提交的数据，并弹出提示。

## 常见问题排查

1) 没有收集到数据  
检查每个输入位是否设置了 `formName`，且输入位容器是否在 `LoginFormArea` 内部。

2) 点击按钮无反应  
检查按钮是否设置了正确的 `aria-label`，且 `buttonLabel` 参数一致。

3) 真实接口失败  
可能是接口地址错误、CORS 限制或鉴权问题。先用 `mock` 模式验证流程。

4) 样式不一致  
确保输入位容器内有文本节点，组件会从该文本节点继承字体样式。
